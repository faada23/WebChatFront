<app-sidebar [class.collapsed]="isSidebarCollapsed"></app-sidebar>

<div class="chat-container">
  <div class="chat-header">
    <h2 class="chat-title">{{ getChatName() }} </h2>
    <button class="logout-btn" (click)="Logout()">Logout</button>
  </div>

  <div class="messages" #scrollContainer (scroll)="onScroll()">
    <div *ngIf="isLoading" class="loading-indicator">Загрузка...</div>
    <div 
      *ngFor="let msg of pagedMessages?.data" 
      class="message"
      [class.my-message]="isMyMessage(msg)"
    >
      <span>{{ msg.content }}</span>
      <span class="time">{{msg.createdDate| date:'shortTime'}}</span>
    </div>
  </div>
  
  <span class="input">
    <textarea autocomplete="off" class="input-text" rows="1" [(ngModel)]="message" placeholder="Type a message"></textarea>
    <button class="send-msg-btn" (click)="sendMessage(selectedChatId!,message)">
      <img 
        class="send-msg-img" 
        src="../assets/svgs/group.svg" 
        alt="">
    </button>
  </span>
</div>
